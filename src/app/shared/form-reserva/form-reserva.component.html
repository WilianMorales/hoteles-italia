<!-- Encabezado -->
<div class="relative p-4 border-b border-gray-300 text-center text-white">
  <h2 class="text-lg">{{ translate.t('formReserva.title') }}</h2>
  <p class="text-gray-200">{{ translate.t('formReserva.subtitle') }}</p>

  <!-- BotÃ³n cerrar -->
  <button command="close" commandfor="formDialog" class="absolute right-4 top-4 text-gray-400 hover:text-white
           transition-colors duration-200">
    <span class="sr-only">Cerrar</span>
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true" class="size-5">
      <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
  </button>
</div>

<form class="p-3 space-y-4" [formGroup]="reservaForm" (ngSubmit)="onSubmit()">

  <div class="overflow-x-auto pb-1 text-center">
    <p class="text-white text-sm mb-2">
      {{ translate.t('formReserva.hotel') }}
    </p>

    <div class="flex gap-3 justify-center w-max mx-auto">
      <label *ngFor="let sede of sedes" class="relative flex-shrink-0 cursor-pointer">
        <!-- input radio accesible -->
        <input type="radio" name="sede" [value]="sede.value" formControlName="sede" class="sr-only peer"
          [attr.aria-checked]="
          reservaForm.get('sede')?.value === sede.value
        " />

        <!-- wrapper con borde degradado -->
        <span class="inline-block rounded-lg p-[2px] transition
               peer-focus:ring-2 peer-focus:ring-green-300
               peer-checked:bg-gradient-to-r peer-checked:from-green-500 peer-checked:to-emerald-600">
          <!-- inner surface -->
          <span class="block rounded-md px-5 py-2.5 text-sm font-medium
                 border border-gray-300
                 bg-white/5
                 text-gray-200
                 transition-all duration-200
                 hover:scale-105 hover:border-green-400
                 peer-checked:text-white peer-checked:font-semibold">
            {{ sede.value }}
          </span>
        </span>
      </label>
    </div>
  </div>


  <div class="flex flex-col gap-2 justify-center pb-1 text-center">
    <p class="text-sm text-white mb-2">
      {{ translate.t('formReserva.selectType') }}
    </p>

    <div class="flex justify-center gap-2 w-full max-w-md mx-auto">
      <label *ngFor="let tarifa of tarifas" class="flex-1 cursor-pointer">
        <!-- input radio accesible -->
        <input type="radio" name="tarifa" [value]="tarifa.value" class="sr-only peer" formControlName="tarifa"
          [attr.aria-checked]="reservaForm.get('tarifa')?.value === tarifa.value" />

        <!-- wrapper con borde degradado -->
        <span class="inline-block w-full rounded-lg p-[2px] transition
               peer-focus:ring-2 peer-focus:ring-green-300
               peer-checked:bg-gradient-to-r peer-checked:from-green-500 peer-checked:to-emerald-600">

          <!-- inner surface -->
          <span class="rounded-md px-3 py-2 text-sm
                 border border-gray-300
                 bg-white/5
                 text-gray-200
                 transition-all duration-200
                 hover:scale-105 hover:border-green-400
                 peer-checked:text-white peer-checked:font-semibold flex flex-col items-center">

            <span class="text-xs">{{ translate.t(tarifa.value) }}</span>
            <span class="text-xs text-gray-200">
              {{ tarifa.precio | currency:'PEN':'symbol':'1.2-2' }}
            </span>
          </span>
        </span>
      </label>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-2">

    <div>
      <label class="block text-xs text-white ">Check-In</label>
      <div class="flex items-center rounded-md border border-gray-300 bg-gray-100 focus-within:border-green-500">
        <div class="pl-2 text-gray-400">
          <fa-icon [icon]="iconCal"></fa-icon>
        </div>
        <input type="date" class="w-full bg-transparent py-1 px-2 text-sm focus:outline-none"
          formControlName="checkInDate" />
      </div>
    </div>


    <div>
      <label class="block text-xs text-white ">Check-Out</label>
      <div class="flex items-center rounded-md border border-gray-300 bg-gray-100 focus-within:border-green-500">
        <div class="pl-2 text-gray-400">
          <fa-icon [icon]="iconCal"></fa-icon>
        </div>
        <input type="date" class="w-full bg-transparent py-1 px-2 text-sm focus:outline-none"
          formControlName="checkOutDate" />
      </div>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-2 sm:gap-2">
    <div *ngFor="let field of personalFields; let i = index" [class.col-span-2]="i < 2" class="flex flex-col">
      <label class="block text-xs text-white ">{{ field.label }}</label>
      <div class="flex items-center rounded-md border border-gray-300 bg-gray-100 focus-within:border-green-500">
        <div class="pl-2 text-gray-400">
          <fa-icon [icon]="field.icon"></fa-icon>
        </div>
        <input [type]="field.type" [placeholder]="field.placeholder" [formControlName]="field.key"
          class="w-full bg-transparent py-1 px-2 text-sm focus:outline-none" />
      </div>
    </div>
  </div>

</form>

<div class="p-3 border-gray-300">
  <button (click)="onSubmit()" type="submit" class="inline-flex items-center gap-2 text-white
          bg-gradient-to-r from-green-500 to-emerald-600
          hover:from-green-600 hover:to-emerald-700 focus:ring-4 focus:ring-green-300
           rounded-lg text-base px-5 py-2.5
          shadow-md hover:shadow-lg transform hover:scale-105
          transition-all duration-200">
    <fa-icon [icon]="iconBell"></fa-icon>
    Reservar
  </button>
</div>
