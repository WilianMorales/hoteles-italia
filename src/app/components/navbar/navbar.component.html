<nav class="fixed left-0 right-0 z-50 transition-colors duration-300 ease-in-out bg-transparent/60 shadow-lg"
  role="navigation" aria-label="Main navigation">

  <div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
    <div class="relative flex h-16 items-center justify-between">

      <!-- BotÃ³n menÃº mobile -->
      <div class="absolute inset-y-0 left-0 flex items-center lg:hidden">
        <button type="button" command="--toggle" commandfor="mobile-menu"
          class="relative inline-flex items-center justify-center rounded-md p-2 text-white hover:bg-white/5 hover:text-white">
          <span class="sr-only">Open main menu</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"
            class="size-6 [[aria-expanded='true']_&]:hidden">
            <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"
            class="size-6 [&:not([aria-expanded='true']_*)]:hidden">
            <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </button>
      </div>

      <!-- Logo + links desktop -->
      <div class="flex flex-1 items-center justify-center lg:items-stretch lg:justify-start">
        <div class="flex shrink-0 items-center">
          <img src="assets/img/Recurso3-blanco.svg" alt="Your Company" class="h-8 w-auto" />
        </div>

        <!-- Links Desktop -->
        <div class="hidden lg:ml-6 lg:block">
          <div class="flex space-x-4 text-white">

            <a *ngFor="let link of links" (click)="handleLinkClick(link)"
              class="block rounded-md px-3 py-2 text-base font-medium transition-colors duration-200 cursor-pointer" [ngClass]="{
                'bg-white/10': activeLink === link.key,
                'relative after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-white hover:after:w-full after:transition-all after:duration-300': activeLink !== link.key
              }" >
              {{ translate.t(link.key) }}
            </a>
          </div>
        </div>
      </div>

      <!-- Idioma -->
      <div class="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0">
        <button (click)="changeLang(currentLang === 'es' ? 'en' : 'es')" type="button"
          class="relative w-16 h-7 flex items-center bg-gray-300 rounded-full p-1 transition-all duration-300">
          <div
            class="absolute left-1 flex items-center justify-center w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-300"
            [ngClass]="{'translate-x-8': currentLang === 'es'}">
            <img [src]="currentLang === 'en' ? 'assets/img/pe.png' : 'assets/img/en.png'" alt="Bandera"
              class="w-5 h-5 rounded-full" width="20" height="20" loading="lazy">
          </div>
          <span class="absolute left-10 text-xs font-bold text-gray-800 transition-opacity duration-300"
            [ngClass]="{'opacity-100': currentLang === 'en', 'opacity-0': currentLang === 'es'}">ES</span>
          <span class="absolute right-10 text-xs font-bold text-gray-800 transition-opacity duration-300"
            [ngClass]="{'opacity-100': currentLang === 'es', 'opacity-0': currentLang === 'en'}">EN</span>
        </button>

      </div>
    </div>
  </div>

  <!-- Mobile -->
  <el-disclosure id="mobile-menu" hidden class="sm:hidden [&:not([hidden])]:block">
    <div class="space-y-1 px-2 pb-3 pt-2 text-white">
      <a *ngFor="let link of links" (click)="handleLinkClick(link)"
        class="block rounded-md px-3 py-2 text-base font-medium transition-colors duration-200 cursor-pointer" [ngClass]="{
              'bg-white/10': activeLink === link.key,
              'hover:bg-white/5': activeLink !== link.key
            }">
        {{ translate.t(link.key) }}
      </a>
    </div>
  </el-disclosure>

</nav>


